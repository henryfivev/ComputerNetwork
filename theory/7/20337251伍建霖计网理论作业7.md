# 计算机网络 · 理论作业7

## 20337251伍建霖

### P14

答：

首先，在通过归属代理使用间接路由进行链接的情况下，将发生以下事件：

 • 移动节点到达 A，A 通知归属代理移动设备正在访问 A，并且到移动设备的数据报现在应该转发到 A 中指定的转交地址 (COA)。

 • 移动节点移动到 B。B 的外地代理必须通知 A 的外地代理移动不再驻留在 A 但实际上驻留在 B 并且在 B 有指定的 COA。从那时起，外地代理A 中的代理会将其接收到的寻址到 A 中移动设备 COA 的数据报转发到 B 中移动设备的 COA。

 • 移动节点移动到 C。C 的外地代理必须通知 B 的外地代理该移动设备不再驻留在 B 但实际上驻留在 C 并且在 C 具有指定的 COA。从那时起，外地代理B 中的代理将转发 它接收到（从 A 中的外部代理）发送到 B 中移动设备的 COA 到 C 中移动设备的 COA 的数据报。 

请注意，当移动设备离线（即没有地址）或返回其归属网络时，必须删除 A、B 和 C 中外部代理维护的数据报转发状态。这种拆卸也必须通过信令消息来完成。请注意，归属代理不知道移动台在 A 之外的移动性，并且通信者根本不知道移动台的移动性。

在不使用链接的情况下，将发生以下事件：

 • 移动节点到达 A，A 通知归属代理移动设备正在访问 A，并且到移动设备的数据报现在应该转发到 A 中指定的转交地址 (COA)。

 • 移动节点移动到 B。B 的外地代理必须通知 A 的外地代理和归属代理移动设备不再驻留在 A 但实际上驻留在 B 并且在 B 有指定的 COA。外地A 中的代理可以删除其关于移动设备的状态，因为它不再位于 A 中。从那时起，归属代理将转发它收到的寻址到 B 中移动设备 COA 的数据报。

 • 移动节点移动到 C。C 的外地代理必须通知 B 的外地代理和归属代理移动设备不再驻留在 B 但实际上驻留在 C 并且在 C 具有指定的 COA。 B 中的代理可以删除其关于移动设备的状态，因为它不再位于 B 中。从那时起，归属代理将转发它收到的寻址到 C 中移动设备 COA 的数据报。

 当移动设备掉线或返回其归属网络时，必须删除 C 中外部代理维护的数据报转发状态。这种拆卸也必须通过信令消息来完成。归属代理始终了解移动设备当前的外部网络。
